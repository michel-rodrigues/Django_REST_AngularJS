<div class="container">
  <div class="row">
    <div class="col-sm-8 col-sm-offset-2">
      <div class="page-header">
        <h1>{{ post.title }}</h1>
        <small>Publicado em {{ post.publish }}</small>
      </div>
      <div>
        <span ng-if="post.image">
          <img class="img-responsive" ng-src="{{ post.image}}" alt="post-img"/>
        </span>
        <h4>{{ post.content }}</h4>
        <hr/>
        <p class="lead">Comentários</p>
        <p>Filtrar</p>
          <input type="text" ng-model="query" placeholder="Filtrar comentários">
        <ul>
          <li ng-repeat="comment in post.comments | filter: query">
            <hr/>
            {{ comment.content }}
            <a
              href="#" 
              class="btn btn-sm btn-danger" 
              confirm-click="Tem certeza?" 
              confirmed-click="deleteComment(comment)"
              style="margin: 10px 5px">
              <strong>X</strong>
            </a>
            <p><a href="#" ng-click="isShowReplies = !isShowReplies">{{ comment.reply_count }} Resposta(s)</a></p>
            <div ng-show="isShowReplies">
              <comment-reply-thread comment="comment"></comment-reply-thread>
              <p style="color: red;" ng-if="reply.content" >PREVIEW: {{reply.content}}</p>
              <form ng-submit="addCommentReply(reply, comment)">
                <textarea ng-model="reply.content"></textarea>
                <input class="btn btn-default" type="submit">
              </form>
            </div>
          </li>
        </ul>
        <hr/>
        <p style="color: red;" ng-if="newComment.content" >PREVIEW: {{newComment.content}}</p>
        <form ng-submit="addNewComment()">
          <textarea ng-model="newComment.content"></textarea>
          <input class="btn btn-default" type="submit">
        </form>
      </div>
    </div>
  </div>
</div>
